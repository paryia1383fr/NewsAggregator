<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± ğŸ—ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Vazirmatn', Tahoma, sans-serif; background:#f4f4f4; color:#333; line-height:1.6; direction:rtl; }

        header { background:#1e1e1e; color:#fff; text-align:center; padding:20px 0; }
        header h1 { font-size:2rem; letter-spacing:1px; }

        .container { max-width:1200px; margin:20px auto; padding:0 15px; }

        .articles { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; }

        .article { background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.1); transition:transform 0.3s, box-shadow 0.3s; display:flex; flex-direction:column; }
        .article:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.15); }

        .article img { width:100%; height:200px; object-fit:cover; transition: transform 0.5s ease; }
        .article:hover img { transform:scale(1.05); }

        .article-content { padding:15px; display:flex; flex-direction:column; flex:1; }

        .article-content h2 { font-size:1.2rem; margin-bottom:10px; color:#111; }
        .article-content p { font-size:0.95rem; color:#555; flex:1; overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; }
        .read-more { margin-top:10px; text-align:right; font-weight:bold; color:#007bff; transition:color 0.3s; }
        .read-more:hover { color:#0056b3; }

        footer { background:#1e1e1e; color:#fff; text-align:center; padding:15px 0; margin-top:40px; font-size:0.9rem; }

        @media(max-width:768px) { .article img { height:180px; } }
    </style>
</head>
<body>
    <header>
        <h1>Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± ğŸ“°</h1>
    </header>

        <div class="articles">
            {% for article in articles %}
                <div class="article">
                    {% if article.image_url %}
                        <img src="{{ article.image_url }}" alt="{{ article.title }}" 
                            loading="lazy" class="news-image" 
                            onerror="this.src='https://via.placeholder.com/400x200?text=Image+Not+Found'" />
                    {% else %}
                        <img src="https://via.placeholder.com/400x200?text=No+Image" 
                            alt="No Image" class="news-image">
                    {% endif %}
                    <div class="article-content">
                        <h2>{{ article.title }}</h2>
                        <p>{{ article.description|truncatewords:30 }}</p>
                        <a href="{{ article.url }}" target="_blank" class="read-more">Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø¨Ø± â†’</a>
                    </div>
                </div>
            {% empty %}
                <p style="text-align:center; margin-top:50px;">Ù‡ÛŒÚ† Ø®Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯ ğŸ˜”</p>
            {% endfor %}
        </div>

    <script>
        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³Ú©Ø±ÙˆÙ„
        const articles = document.querySelectorAll('.article');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if(entry.isIntersecting){
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        articles.forEach(article=>{
            article.style.opacity=0;
            article.style.transform='translateY(50px)';
            observer.observe(article);
        });
    </script>
</body>
</html>
